@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-archivo: var(--font-archivo);
  --font-jetbrains: var(--font-jetbrains-mono);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-ring: var(--ring);

  --radius-sm: calc(var(--radius) - 2px);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) + 2px);
}

:root {
  --background: oklch(0.98 0 0);
  --foreground: oklch(0.2 0 0);
  --primary: oklch(66.848% 0.13106 169.823);
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.94 0 0);
  --muted: oklch(0.92 0 0);
  --muted-foreground: oklch(0.5 0 0);
  --border: oklch(0.2 0 0 / 0.1);
  --ring: oklch(66.848% 0.13106 169.823 / 0.3);
  --radius: 0.25rem;
}

.dark {
  --background: oklch(0.18 0 0);
  --foreground: oklch(0.95 0 0);
  --primary: oklab(85.729% -0.18714 0.09244);
  --primary-foreground: oklch(0.1 0 0);
  --secondary: oklch(0.22 0 0);
  --muted: oklch(0.25 0 0);
  --muted-foreground: oklch(0.65 0 0);
  --border: oklch(0.95 0 0 / 0.1);
  --ring: oklch(85.729% 0.20872 153.713);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground selection:bg-primary/30 font-archivo min-h-screen relative overflow-x-hidden antialiased;
  }
}

@layer utilities {
  .noise-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.08;
    background-image: url("https://grainy-gradients.vercel.app/noise.svg");
    background-size: 150px 150px;
    mix-blend-mode: overlay;
    animation: noiseAnim 0.2s infinite steps(2);
  }

  .global-bg {
    position: fixed;
    inset: 0;
    z-index: -1;
    background: var(--background);
    overflow: hidden;
  }

  .accent-gradient {
    position: absolute;
    width: 100vw;
    height: 100vw;
    border-radius: 50%;
    /* Extremely subtle orange */
    background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
    opacity: 0.08;
    filter: blur(160px);
    animation: floatAnim 40s infinite alternate ease-in-out;
  }

  @keyframes noiseAnim {
    0% {
      transform: translate(0, 0);
    }
    10% {
      transform: translate(-1%, -1%);
    }
    20% {
      transform: translate(1%, 1%);
    }
    30% {
      transform: translate(-2%, 0%);
    }
    40% {
      transform: translate(1%, -2%);
    }
    50% {
      transform: translate(-1%, 2%);
    }
    60% {
      transform: translate(2%, 1%);
    }
    70% {
      transform: translate(0%, -1%);
    }
    80% {
      transform: translate(-2%, -2%);
    }
    90% {
      transform: translate(1%, 1%);
    }
  }

  @keyframes floatAnim {
    0% {
      transform: translate(-10%, -10%) scale(1);
    }
    100% {
      transform: translate(10%, 10%) scale(1.05);
    }
  }

  /* Custom Markdown Typography */
  .markdown-content h1 {
    @apply scroll-m-20 text-4xl font-black tracking-tighter lg:text-5xl mb-8 uppercase font-jetbrains;
  }
  .markdown-content h2 {
    @apply scroll-m-20 border-b border-border/10 pb-2 text-2xl font-bold tracking-tight first:mt-0 mt-12 mb-6 uppercase font-jetbrains text-foreground;
  }
  .markdown-content h3 {
    @apply scroll-m-20 text-xl font-bold tracking-tight mt-8 mb-4 uppercase font-jetbrains text-primary;
  }
  .markdown-content p {
    @apply leading-7 not-first:mt-6 text-muted-foreground font-medium;
  }
  .markdown-content blockquote {
    @apply mt-6 border-l-2 border-primary pl-6 italic text-muted-foreground;
  }
  .markdown-content ul {
    @apply my-6 ml-6 list-disc [&>li]:mt-2 text-muted-foreground;
  }
  .markdown-content ol {
    @apply my-6 ml-6 list-decimal [&>li]:mt-2 text-muted-foreground;
  }
  .markdown-content code {
    @apply relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-jetbrains text-sm font-semibold text-primary;
  }
  .markdown-content strong {
    @apply font-bold text-foreground;
  }
  .markdown-content hr {
    @apply my-8 border-border/10;
  }
  .markdown-content table {
    @apply w-full border-collapse my-8 overflow-hidden rounded-lg border border-border/10 shadow-sm;
  }
  .markdown-content thead {
    @apply bg-secondary/40;
  }
  .markdown-content th {
    @apply px-5 py-3.5 text-left font-black uppercase tracking-[0.15em] text-[9px] text-foreground border-b border-border/10 font-jetbrains;
  }
  .markdown-content td {
    @apply px-5 py-4 text-xs text-muted-foreground border-b border-border/5 leading-relaxed;
  }
  .markdown-content tr:last-child td {
    @apply border-b-0;
  }
  .markdown-content tr {
    @apply transition-colors duration-200;
  }
  .markdown-content tr:hover td {
    @apply bg-primary/[0.03] text-foreground;
  }
}
